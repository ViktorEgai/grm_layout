{"version":3,"sources":["01_main.js","modules/adjastFooterMenu.js","modules/animation.js","modules/animationNums.js","modules/baza_znaniy.js","modules/btnAnimation.js","modules/counter.js","modules/form.js","modules/search.js","modules/serviceHeroNav.js","modules/sliders.js","modules/story.js","modules/svg.js","modules/tabs.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/main.min.js","sourcesContent":["jQuery(document).ready(function ($) {\r\n\t$(\"input[type=tel]\").inputmask(\"+7 999 999 99 99\");\r\n\t$(\"[data-fancybox]\").fancybox({\r\n\t\tautoFocus: false,\r\n\t\ttouch: false,\r\n\t});\r\n\r\n\tif ($(window).width() < 992) {\r\n\t\t$(\".info-item-services\").after($(\".about\"));\r\n\t\t$(\".single-vakancy-card\").after($(\".agent\"));\r\n\t\t$(\".calendar-wrapper\").after($(\".calendar__btn\"));\r\n\t\t$(\".tarif-slider\").before($(\".tarif__title\"));\r\n\t\t// toggle widget\r\n\t\t$(\".widget__logo\").on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\t$(\".widget-block\").slideToggle();\r\n\t\t\t$(\".widget-block\").toggleClass(\"active\");\r\n\t\t});\r\n\t} else {\r\n\t\t$(\".info\").after($(\".about\"));\r\n\t\t$(\".sidebar-banner\").before($(\".agent\"));\r\n\r\n\t\t// toggle widget\r\n\t\t$(\".widget__logo\").on(\"mouseenter\", function () {\r\n\t\t\t$(\".widget-block\").slideDown();\r\n\t\t});\r\n\t\t$(\".widget\").on(\"mouseleave\", function () {\r\n\t\t\t$(\".widget-block\").slideUp();\r\n\t\t});\r\n\r\n\t\t$(\".has-children\").each(function () {\r\n\t\t\tconst userBlock = $(\".header-user-block\");\r\n\r\n\t\t\t$(this).append(userBlock);\r\n\t\t});\r\n\t}\r\n\t$(window).resize(function () {\r\n\t\tif ($(window).width() < 992) {\r\n\t\t\t$(\".info-item-services\").after($(\".about\"));\r\n\t\t\t$(\".single-vakancy-card\").after($(\".agent\"));\r\n\t\t} else {\r\n\t\t\t$(\".info\").after($(\".about\"));\r\n\t\t\t$(\".sidebar-banner\").before($(\".agent\"));\r\n\t\t}\r\n\t});\r\n\t$(\".cards-item__link\").on(\"click\", function (e) {\r\n\t\tif (!$(this).parents(\".cards-item-front__inner\").hasClass(\"cards-item--no-back\")) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t$(this).closest(\".cards-item\").toggleClass(\"active\");\r\n\t\t}\r\n\t});\r\n\t$(\".cards-item-close\").on(\"click\", function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t$(this).closest(\".cards-item\").toggleClass(\"active\");\r\n\t});\r\n\r\n\t$(\".dropdown-item__title\").on(\"click\", function () {\r\n\t\t$(this).next().slideToggle();\r\n\t});\r\n\r\n\t$(\".header-mobile-submenu\").prev().append(`<span class=\"arrow\"><svg width=\"12\" height=\"7\" viewBox=\"0 0 12 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M10.3333 1L5.66667 5.66667L1 1\" stroke=\"white\" stroke-opacity=\"0.5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n</span>`);\r\n\tif ($(window).width() > 992) {\r\n\t\t$(\".header-submenu\").prev().after(`<span class=\"arrow\"><svg width=\"12\" height=\"7\" viewBox=\"0 0 12 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M10.3333 1L5.66667 5.66667L1 1\" stroke=\"white\" stroke-opacity=\"0.5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n</span>`);\r\n\t} else {\r\n\t\t$(\".header-submenu\").prev().append(`<span class=\"arrow\"><svg width=\"12\" height=\"7\" viewBox=\"0 0 12 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M10.3333 1L5.66667 5.66667L1 1\" stroke=\"white\" stroke-opacity=\"0.5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n</span>`);\r\n\t}\r\n\t$(\".header-submenu\").parents(\".header-menu__item\").addClass(\"has-children\");\r\n\r\n\t$(\".header-menu-btn\").on(\"click\", function () {\r\n\t\t$(\".header-nav\").slideToggle();\r\n\t\t$(this).toggleClass(\"active\");\r\n\t\t$(\"body\").toggleClass(\"overflow\");\r\n\t});\r\n\t$(\".header-menu__item .arrow\").on(\"click\", function (e) {\r\n\t\te.preventDefault();\r\n\t\t$(this).parents(\".has-children\").addClass(\"active\");\r\n\r\n\t\t$(this).parent().next().slideToggle();\r\n\t\t$(this).toggleClass(\"active\");\r\n\t\tif ($(this).parents(\".has-children\").find(\".arrow.active\").length == 0) {\r\n\t\t\t$(this).parents(\".has-children\").removeClass(\"active\");\r\n\t\t}\r\n\t});\r\n\tlet subMenuHeight = 0;\r\n\t$(\".header-submenu\").each(function () {\r\n\t\tif ($(this).outerHeight() > subMenuHeight) {\r\n\t\t\tsubMenuHeight = $(this).outerHeight();\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".header\").css(\"--mh\", subMenuHeight + 150 + \"px\");\r\n\t$(window).resize(function () {\r\n\t\t$(\".header\").css(\"--mh\", subMenuHeight + 150 + \"px\");\r\n\t});\r\n\r\n\tvar individualGrid = $(\".individual-grid .grid\").isotope({\r\n\t\titemSelector: \".grid-item\",\r\n\t\tlayoutMode: \"fitRows\",\r\n\t\tfitRows: {\r\n\t\t\tequalheight: true,\r\n\t\t},\r\n\t});\r\n\t$(\".individual-nav\").on(\"click\", \"button\", function () {\r\n\t\tvar filterValue = $(this).attr(\"data-filter\");\r\n\t\tindividualGrid.isotope({\r\n\t\t\tfilter: filterValue,\r\n\t\t});\r\n\t});\r\n\tfunction partnersFilter() {\r\n\t\tvar $grid = $(\".loyalty-grid .grid\").isotope({\r\n\t\t\titemSelector: \".grid-item\",\r\n\t\t\tlayoutMode: \"fitRows\",\r\n\t\t\tfitRows: {\r\n\t\t\t\tequalheight: true,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t$(\".loyalty-nav\").on(\"click\", \"button\", function () {\r\n\t\t\tvar filterValue = $(this).attr(\"data-filter\");\r\n\t\t\t$grid.isotope({\r\n\t\t\t\tfilter: filterValue,\r\n\t\t\t});\r\n\t\t});\r\n\t\t$(\".loyalty-item__tag\").on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar filterValue = $(this).attr(\"data-filter\");\r\n\t\t\t$grid.isotope({\r\n\t\t\t\tfilter: filterValue,\r\n\t\t\t});\r\n\t\t\t$(\".loyalty-nav__item\").each(function () {\r\n\t\t\t\tif ($(this).attr(\"data-filter\") == filterValue) {\r\n\t\t\t\t\t$(this).addClass(\"active\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(this).removeClass(\"active\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t$(\".loyalty-nav\").each(function (i, buttonGroup) {\r\n\t\t\tvar $buttonGroup = $(buttonGroup);\r\n\t\t\t$buttonGroup.on(\"click\", \"button\", function () {\r\n\t\t\t\t$buttonGroup.find(\".active\").removeClass(\"active\");\r\n\t\t\t\t$(this).addClass(\"active\");\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t// filter();\r\n\t// загрузка партнеров по API\r\n\r\n\tfunction loadPartners() {\r\n\t\tconst partnersAPI = \"http://212.193.30.89:8000/api/logo_partners/\";\r\n\t\tconst navBlock = $(\".loyalty-nav\");\r\n\t\tconst contentBlock = $(\".loyalty .grid\");\r\n\r\n\t\tfunction getContentItem(item, data) {\r\n\t\t\t// let link = item.link ? '<a href=\"#\" class=\"loyalty-item__title\">LIGALT</a>' : '';\r\n\t\t\t// let description = '<div class=\"loyalty-item__text\">Юридическая компания по спорам с застройщиками</div>';\r\n\t\t\tlet tag = `<a href=\"#\" class=\"loyalty-item__tag\" data-filter=\".${data.translit}\">#${data.name} </a>`;\r\n\t\t\tlet image = `\t<div class=\"loyalty-item__image\">\r\n\t\t\t<img src=\"${item.img}\" alt=\"\" />\r\n\t\t</div>`;\r\n\t\t\tlet categorySlug = data.translit;\r\n\t\t\tlet html = `<div class=\"grid-item ${categorySlug}\">\r\n\t\t\t\t<div class=\"loyalty-item\">\t\t\t\t\t\r\n\t\t\t\t\t${image}\t\r\n\t\t\t\t\t${tag}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\treturn html;\r\n\t\t}\r\n\r\n\t\tfunction getNavItem(item) {\r\n\t\t\tlet slug = item.translit,\r\n\t\t\t\tname = item.name;\r\n\t\t\tlet html = `<button data-filter=\".${slug}\" class=\"loyalty-nav__item\">${name}</button>`;\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\t$.ajax({\r\n\t\t\turl: partnersAPI,\r\n\t\t\tdataType: \"json\",\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\tnavBlock.append(getNavItem(item));\r\n\t\t\t\t\titem.kategoriya.forEach((element) => {\r\n\t\t\t\t\t\tcontentBlock.append(getContentItem(element, item));\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpartnersFilter();\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\tloadPartners();\r\n\r\n\tif (!localStorage.getItem(\"cookiesAccepted\")) {\r\n\t\t$(\"#cookie-popup\").fadeIn(500);\r\n\t}\r\n\r\n\t$(\"#accept-cookies\").click(function () {\r\n\t\tlocalStorage.setItem(\"cookiesAccepted\", \"true\");\r\n\t\t$(\"#cookie-popup\").fadeOut(500);\r\n\t});\r\n\r\n\tfunction toggleNominations() {\r\n\t\tconst items = $(\"#nominations .col-xl-3.col-6\");\r\n\t\tif (items.length > 8) {\r\n\t\t\t$(\"#nominations .cards__btn\").show();\r\n\t\t\tfor (let i = 8; i < items.length; i++) {\r\n\t\t\t\titems.eq(i).addClass(\"d-none\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t$(\"#nominations .cards__btn\").hide();\r\n\t\t}\r\n\r\n\t\t$(\"#nominations .cards__btn\").on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif ($(\"#nominations .col-xl-3.col-6\").hasClass(\"d-none\")) {\r\n\t\t\t\t$(\"#nominations .col-xl-3.col-6\").removeClass(\"d-none\");\r\n\t\t\t\t$(this).text(\"Скрыть все\");\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 8; i < items.length; i++) {\r\n\t\t\t\t\titems.eq(i).addClass(\"d-none\");\r\n\t\t\t\t}\r\n\t\t\t\t$(this).text(\"Показать все\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\ttoggleNominations();\r\n});\r\n","$(document).ready(function () {\r\n\tfunction adjustFooterMenu() {\r\n\t\tif ($(window).width() < 1200) {\r\n\t\t\t// Если меньше 1200px, распределяем элементы поровну между двумя списками\r\n\t\t\tif ($(\".footer-menu\").length === 3) {\r\n\t\t\t\t// Сливаем все элементы в один массив\r\n\t\t\t\tconst allItems = [];\r\n\t\t\t\t$(\".footer-menu\").each(function () {\r\n\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t.find(\"li\")\r\n\t\t\t\t\t\t.each(function () {\r\n\t\t\t\t\t\t\tallItems.push($(this));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Удаляем текущие списки\r\n\t\t\t\t$(\".footer-menu\").remove();\r\n\r\n\t\t\t\t// Создаем два новых списка\r\n\t\t\t\tconst half = Math.ceil(allItems.length / 2);\r\n\t\t\t\tconst firstHalf = allItems.slice(0, half);\r\n\t\t\t\tconst secondHalf = allItems.slice(half);\r\n\r\n\t\t\t\tconst menuContainer = $(\".footer-nav\");\r\n\t\t\t\tconst firstMenu = $('<ul class=\"footer-menu\"></ul>');\r\n\t\t\t\tconst secondMenu = $('<ul class=\"footer-menu\"></ul>');\r\n\r\n\t\t\t\tfirstHalf.forEach((item) => firstMenu.append(item));\r\n\t\t\t\tsecondHalf.forEach((item) => secondMenu.append(item));\r\n\r\n\t\t\t\tmenuContainer.append(firstMenu).append(secondMenu);\r\n\t\t\t\t$(\"#footer-menu-container\").append(menuContainer); // Добавляем списки в футер\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Если больше или равно 1200px, возвращаем три списка\r\n\t\t\tif ($(\".footer-menu\").length === 2) {\r\n\t\t\t\t// Сливаем все элементы обратно в массив\r\n\t\t\t\tconst allItems = [];\r\n\t\t\t\t$(\".footer-menu\").each(function () {\r\n\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t.find(\"li\")\r\n\t\t\t\t\t\t.each(function () {\r\n\t\t\t\t\t\t\tallItems.push($(this));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Удаляем текущие списки\r\n\t\t\t\t$(\".footer-menu\").remove();\r\n\r\n\t\t\t\t// Создаем три новых списка\r\n\t\t\t\tconst third = Math.ceil(allItems.length / 3);\r\n\t\t\t\tconst firstThird = allItems.slice(0, third);\r\n\t\t\t\tconst secondThird = allItems.slice(third, third * 2);\r\n\t\t\t\tconst thirdThird = allItems.slice(third * 2);\r\n\r\n\t\t\t\tconst menuContainer = $(\".footer-nav\");\r\n\t\t\t\tconst firstMenu = $('<ul class=\"footer-menu\"></ul>');\r\n\t\t\t\tconst secondMenu = $('<ul class=\"footer-menu\"></ul>');\r\n\t\t\t\tconst thirdMenu = $('<ul class=\"footer-menu\"></ul>');\r\n\r\n\t\t\t\tfirstThird.forEach((item) => firstMenu.append(item));\r\n\t\t\t\tsecondThird.forEach((item) => secondMenu.append(item));\r\n\t\t\t\tthirdThird.forEach((item) => thirdMenu.append(item));\r\n\r\n\t\t\t\tmenuContainer.append(firstMenu).append(secondMenu).append(thirdMenu);\r\n\t\t\t\t$(\"#footer-menu-container\").append(menuContainer); // Добавляем списки в футер\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Запуск функции при загрузке страницы\r\n\tadjustFooterMenu();\r\n\r\n\t// Запуск функции при изменении размера окна\r\n\t$(window).resize(function () {\r\n\t\tadjustFooterMenu();\r\n\t});\r\n});\r\n","$(document).ready(function () {\r\n\tsetTimeout(function () {\r\n\t\t// Рассчитываем высоту динамически\r\n\t\tvar $arrowBlock = $(\".arrow-block\");\r\n\t\tvar $arrowWrapper = $(\".arrow-block-wrapper\");\r\n\t\tvar $arrowBottom = $(\".arrow-block-bottom\");\r\n\t\tvar $arrowBottomFront = $(\".arrow-block-bottom-front\");\r\n\r\n\t\tif ($arrowBlock.length && $arrowWrapper.length && $arrowBottom.length) {\r\n\t\t\t// $(\".arrow-block__bolt\").css(\"height\", $arrowWrapper.innerHeight() * 0.48 + \"px\");\r\n\t\t\tif ($(window).width() > 992) {\r\n\t\t\t\t// Инициализация GSAP и ScrollTrigger\r\n\t\t\t\tScrollTrigger.create({\r\n\t\t\t\t\ttrigger: $arrowBottom[0],\r\n\t\t\t\t\tstart: \"top 80%\",\r\n\t\t\t\t\tend: \"+=\" + $arrowWrapper.innerHeight() + \"px bottom\",\r\n\t\t\t\t\tpin: true,\r\n\t\t\t\t\tscrub: true,\r\n\t\t\t\t});\r\n\t\t\t\tScrollTrigger.create({\r\n\t\t\t\t\ttrigger: $arrowBottomFront[0],\r\n\t\t\t\t\tstart: \"top 80%\",\r\n\t\t\t\t\tend: \"+=\" + $arrowWrapper.innerHeight() + \"px bottom\",\r\n\t\t\t\t\tpin: true,\r\n\t\t\t\t\tscrub: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Анимация для болта (стрелы)\r\n\t\t\t\tgsap.from(\".arrow-block__bolt\", {\r\n\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\ttrigger: $arrowBlock[0],\r\n\t\t\t\t\t\tstart: \"top 20%\",\r\n\t\t\t\t\t\tend: \"+=\" + $arrowBlock.innerHeight() / 2, // Пример динамической высоты\r\n\t\t\t\t\t},\r\n\t\t\t\t\ty: \"-200%\",\r\n\t\t\t\t\tduration: 0.6,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Анимация для линии\r\n\t\t\t\tgsap.fromTo(\r\n\t\t\t\t\t\".arrow-block__bolt\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theight: $arrowWrapper.innerHeight() * 0.48 + \"px\", // Начальная высота\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// height: \"100%\", // Конечная высота, включая padding\r\n\t\t\t\t\t\theight: $arrowWrapper.innerHeight() + \"px\", // Конечная высота, включая padding\r\n\t\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\t\ttrigger: $arrowWrapper[0],\r\n\t\t\t\t\t\t\tstart: \"top 80%\", // Начало анимации\r\n\t\t\t\t\t\t\tend: () => \"+=\" + $arrowWrapper.innerHeight() + \"px\", // Конец анимации\r\n\t\t\t\t\t\t\tscrub: 0.2, // Скроллинг плавный\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Анимация для тени\r\n\t\t\t\tgsap.from(\".shadow\", {\r\n\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\ttrigger: $arrowBlock[0],\r\n\t\t\t\t\t\tstart: \"top 20%\",\r\n\t\t\t\t\t\tend: \"+=\" + $arrowBlock.innerHeight() / 2,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ty: \"-100%\",\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\tduration: 0.6,\r\n\t\t\t\t});\r\n\t\t\t\t$(\".arrow-block__item\").each(function (index) {\r\n\t\t\t\t\tlet item = $(this);\r\n\t\t\t\t\tlet x = \"\";\r\n\t\t\t\t\tif (index % 2 == 0) {\r\n\t\t\t\t\t\tx = \"-10%\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = \"10%\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgsap.from(item, {\r\n\t\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\t\ttrigger: item,\r\n\t\t\t\t\t\t\tstart: \"-20% 30%\",\r\n\t\t\t\t\t\t\tend: \"center 40%\",\r\n\t\t\t\t\t\t\tscrub: 1,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tScrollTrigger.create({\r\n\t\t\t\t\ttrigger: $arrowBottom[0],\r\n\t\t\t\t\tstart: \"top 83%\",\r\n\t\t\t\t\tend: \"+=\" + $arrowWrapper.innerHeight() + \"px bottom\",\r\n\t\t\t\t\tpin: true,\r\n\t\t\t\t\tscrub: true,\r\n\t\t\t\t});\r\n\t\t\t\tScrollTrigger.create({\r\n\t\t\t\t\ttrigger: $arrowBottomFront[0],\r\n\t\t\t\t\tstart: \"top 83%\",\r\n\t\t\t\t\tend: \"+=\" + $arrowWrapper.innerHeight() + \"px bottom\",\r\n\t\t\t\t\tpin: true,\r\n\t\t\t\t\tscrub: true,\r\n\t\t\t\t});\r\n\t\t\t\t// Анимация для болта (стрелы)\r\n\t\t\t\tgsap.from(\".arrow-block__bolt\", {\r\n\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\ttrigger: $arrowBlock[0],\r\n\t\t\t\t\t\tstart: \"top 70%\",\r\n\t\t\t\t\t\tend: \"+=300px\", // Пример динамической высоты\r\n\t\t\t\t\t},\r\n\t\t\t\t\ty: \"-200%\",\r\n\t\t\t\t\tduration: 0.6,\r\n\t\t\t\t});\r\n\t\t\t\t// Анимация для линии\r\n\t\t\t\tgsap.fromTo(\r\n\t\t\t\t\t\".arrow-block__bolt\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theight: $(\".arrow-block__bolt\").innerHeight() + \"px\", // Начальная высота\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// height: \"100%\", // Конечная высота, включая padding\r\n\t\t\t\t\t\theight: $arrowWrapper.innerHeight() + \"px\", // Конечная высота, включая padding\r\n\t\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\t\ttrigger: $arrowWrapper[0],\r\n\t\t\t\t\t\t\tstart: \"top 80%\", // Начало анимации\r\n\t\t\t\t\t\t\tend: () => \"+=\" + $arrowWrapper.innerHeight() + \"px\", // Конец анимации\r\n\t\t\t\t\t\t\tscrub: 0.2, // Скроллинг плавный\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tgsap.from(\".shadow\", {\r\n\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\ttrigger: $arrowBlock[0],\r\n\t\t\t\t\t\tstart: \"top 70%\",\r\n\t\t\t\t\t\tend: \"+=\" + $arrowBlock.innerHeight() / 2,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ty: \"-100%\",\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\tduration: 0.6,\r\n\t\t\t\t});\r\n\t\t\t\t$(\".arrow-block__item\").each(function (index) {\r\n\t\t\t\t\tlet item = $(this);\r\n\r\n\t\t\t\t\tgsap.from(item, {\r\n\t\t\t\t\t\tscrollTrigger: {\r\n\t\t\t\t\t\t\ttrigger: item,\r\n\t\t\t\t\t\t\tstart: \"-20% center\",\r\n\t\t\t\t\t\t\tend: \"center 40%\",\r\n\t\t\t\t\t\t\tscrub: 0.1,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tx: \"-10%\",\r\n\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Не удалось найти элементы для анимации.\");\r\n\t\t}\r\n\r\n\t\t$(\".service-hero__title, .section-title, .dropdown-item, .stories, .about-slider, .top__title, .top__text, .hero-left, #map, .content-block-left, .agent-list-item, .steps-item, .fade-right\").each(function () {\r\n\t\t\tlet item = $(this);\r\n\r\n\t\t\tgsap.fromTo(\r\n\t\t\t\titem[0],\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\tx: \"-100\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t\tx: \"0\",\r\n\t\t\t\t\tscrollTrigger: item[0],\r\n\t\t\t\t\tduration: 1.2,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t\t$(\".map-block-right, .map-block-contacts, .sidebar, .service-hero-block__img, .fade-left\").each(function () {\r\n\t\t\tlet item = $(this);\r\n\t\t\tgsap.fromTo(\r\n\t\t\t\titem[0],\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\tx: \" 100\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t\tx: \"0\",\r\n\t\t\t\t\tscrollTrigger: item[0],\r\n\t\t\t\t\tduration: 1.2,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t\t$(\".sertificates-grid-item, .gallery-grid-item\").each(function () {\r\n\t\t\tlet item = $(this);\r\n\t\t\tgsap.fromTo(\r\n\t\t\t\titem[0],\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ty: \"-100\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t\ty: \"0\",\r\n\t\t\t\t\tscrollTrigger: item[0],\r\n\t\t\t\t\tduration: 0.5,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t$(\".vakancy-card:not(.skip), .documents-block\").each(function (index) {\r\n\t\t\tlet item = $(this);\r\n\r\n\t\t\tif (index % 2 == 0) {\r\n\t\t\t\tgsap.fromTo(\r\n\t\t\t\t\titem[0],\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\tx: \"-100\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tx: \"0\",\r\n\t\t\t\t\t\tscrollTrigger: item[0],\r\n\t\t\t\t\t\tduration: 1.2,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tgsap.fromTo(\r\n\t\t\t\t\titem[0],\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\tx: \"100\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tx: \"0\",\r\n\t\t\t\t\t\tscrollTrigger: item[0],\r\n\t\t\t\t\t\tduration: 1.2,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tgsap.fromTo(\r\n\t\t\t\".circle\",\r\n\t\t\t{\r\n\t\t\t\topacity: 0,\r\n\t\t\t\tscale: \"0\",\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: \"1\",\r\n\t\t\t\tscrollTrigger: \".circle\",\r\n\t\t\t\tduration: 1.2,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t// Обновляем триггеры после загрузки\r\n\t\tScrollTrigger.refresh();\r\n\t}, 200);\r\n});\r\n","$(document).ready(function () {\r\n\tfunction numAnimation(block, elements, duration = 1500) {\r\n\t\tvar $myElt = $(block); // whatever element you want to check\r\n\r\n\t\tvar $window = $(window); // the window jQuery element\r\n\t\tvar inWindow = false;\r\n\t\tif ($myElt.length > 0) {\r\n\t\t\tfunction startAnim() {\r\n\t\t\t\tvar myTop = $myElt.offset().top; // the top (y) location of your element\r\n\t\t\t\tvar windowTop = $window.scrollTop(); // the top of the window\r\n\t\t\t\tvar windowBottom = windowTop + $window.height() - 100;\r\n\r\n\t\t\t\tif (myTop >= windowTop && myTop < windowBottom) {\r\n\t\t\t\t\tif (inWindow == false) {\r\n\t\t\t\t\t\tinWindow = true;\r\n\t\t\t\t\t\tif (inWindow) {\r\n\t\t\t\t\t\t\t$(elements).each(function () {\r\n\t\t\t\t\t\t\t\tvar $this = $(this);\r\n\t\t\t\t\t\t\t\tjQuery({ Counter: 0 }).animate(\r\n\t\t\t\t\t\t\t\t\t{ Counter: $this.text() },\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tduration: duration,\r\n\t\t\t\t\t\t\t\t\t\teasing: \"swing\",\r\n\t\t\t\t\t\t\t\t\t\tstep: function () {\r\n\t\t\t\t\t\t\t\t\t\t\t$this.text(Math.ceil(this.Counter));\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// element is in the window\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstartAnim();\r\n\r\n\t\t\t$(window).on(\"scroll\", function () {\r\n\t\t\t\tstartAnim();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tnumAnimation(\".hero\", \".hero .num\");\r\n});\r\n","$(document).ready(function () {\r\n\t// Константы для селекторов\r\n\tconst SELECTORS = {\r\n\t\tbazaNavItem: \".baza-nav__item\",\r\n\t\tbazaItem: \".baza-item\",\r\n\t\tplaylistNavItem: \".playlist-nav__item\",\r\n\t\tplaylistItem: \".playlist-item\",\r\n\t\tplaylistVideoNavItem: \".playlist-video-nav__item\",\r\n\t\tplaylistVideoItem: \".playlist-video\",\r\n\t\tbazaSlider: \".baza-item-slider\",\r\n\t\tvideoDescrMore: \".playlist-video-descr-top__more\",\r\n\t\tvideoDescrText: \".playlist-video-descr__text\",\r\n\t\tvideoIframe: \".playlist-video iframe, .playlist-video video\",\r\n\t};\r\n\r\n\t// Функция для остановки всех видео в указанном элементе\r\n\tfunction stopAllVideos(container) {\r\n\t\tcontainer.find(SELECTORS.videoIframe).each(function () {\r\n\t\t\tconst $media = $(this);\r\n\r\n\t\t\t// Для iframe (YouTube, Vimeo и т.д.)\r\n\t\t\tif ($media.is(\"iframe\")) {\r\n\t\t\t\tconst src = $media.attr(\"src\");\r\n\t\t\t\t$media.attr(\"src\", \"\").attr(\"src\", src); // Сброс src останавливает видео\r\n\t\t\t}\r\n\r\n\t\t\t// Для HTML5 video\r\n\t\t\tif ($media.is(\"video\")) {\r\n\t\t\t\t$media.get(0).pause();\r\n\t\t\t\t$media.get(0).currentTime = 0;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Инициализация всех компонентов\r\n\tfunction init() {\r\n\t\tinitYearsTabs();\r\n\t\tinitSlider();\r\n\t\tinitVideoDescriptionToggle();\r\n\t}\r\n\r\n\t// Работа с табами годов\r\n\tfunction initYearsTabs() {\r\n\t\tconst $bazaNavItems = $(SELECTORS.bazaNavItem);\r\n\t\tconst $bazaItems = $(SELECTORS.bazaItem);\r\n\r\n\t\t// Активируем первый элемент по умолчанию\r\n\t\tactivateTab($bazaNavItems, $bazaItems, 0);\r\n\r\n\t\t$bazaNavItems.on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst index = $(this).index();\r\n\t\t\tactivateTab($bazaNavItems, $bazaItems, index);\r\n\t\t\t$(SELECTORS.bazaSlider).slick(\"setPosition\", 0);\r\n\t\t});\r\n\t}\r\n\r\n\t// Активация таба\r\n\tfunction activateTab(navItems, contentItems, index) {\r\n\t\t// Останавливаем видео в неактивных табах\r\n\t\tcontentItems.filter(\".active\").each(function () {\r\n\t\t\tstopAllVideos($(this));\r\n\t\t});\r\n\r\n\t\tnavItems.eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\t\tcontentItems.eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n\t\t// Инициализируем плейлисты для активного таба\r\n\t\tinitPlaylistTabs(contentItems.eq(index));\r\n\t}\r\n\r\n\t// Инициализация табов плейлистов\r\n\tfunction initPlaylistTabs(activeBlock) {\r\n\t\tconst $playlistNavItems = activeBlock.find(SELECTORS.playlistNavItem);\r\n\t\tconst $playlistItems = activeBlock.find(SELECTORS.playlistItem);\r\n\r\n\t\t// Активируем первый элемент по умолчанию\r\n\t\tactivatePlaylistTab($playlistNavItems, $playlistItems, 0);\r\n\r\n\t\t$playlistNavItems.on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst index = $(this).index();\r\n\t\t\tactivatePlaylistTab($playlistNavItems, $playlistItems, index);\r\n\t\t});\r\n\t}\r\n\r\n\t// Активация таба плейлиста\r\n\tfunction activatePlaylistTab(navItems, contentItems, index) {\r\n\t\t// Останавливаем видео в неактивных табах\r\n\t\tcontentItems.filter(\".active\").each(function () {\r\n\t\t\tstopAllVideos($(this));\r\n\t\t});\r\n\r\n\t\tnavItems.eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\t\tcontentItems.eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n\t\t// Инициализируем видео для активного плейлиста\r\n\t\tinitPlaylistVideoTabs(contentItems.eq(index));\r\n\t}\r\n\r\n\t// Инициализация табов видео в плейлисте\r\n\tfunction initPlaylistVideoTabs(activePlaylistTab) {\r\n\t\tconst $videoNavItems = activePlaylistTab.find(SELECTORS.playlistVideoNavItem);\r\n\t\tconst $videoItems = activePlaylistTab.find(SELECTORS.playlistVideoItem);\r\n\r\n\t\t// Активируем первый элемент по умолчанию\r\n\t\tactivateVideoTab($videoNavItems, $videoItems, 0);\r\n\r\n\t\t$videoNavItems.on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst index = $(this).index();\r\n\t\t\tactivateVideoTab($videoNavItems, $videoItems, index);\r\n\t\t});\r\n\t}\r\n\r\n\t// Активация таба видео\r\n\tfunction activateVideoTab(navItems, contentItems, index) {\r\n\t\t// Останавливаем все видео в текущей группе\r\n\t\tcontentItems.filter(\".active\").each(function () {\r\n\t\t\tstopAllVideos($(this));\r\n\t\t});\r\n\r\n\t\tnavItems.eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\t\tcontentItems.eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\t}\r\n\r\n\t// Инициализация слайдера\r\n\tfunction initSlider() {\r\n\t\t$(SELECTORS.bazaSlider).slick({\r\n\t\t\tspeed: 300,\r\n\t\t\tarrows: false,\r\n\t\t\tslidesToShow: 3,\r\n\t\t\tslidesToScroll: 1,\r\n\t\t\tresponsive: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 992,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\tdots: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 576,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\tdots: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t});\r\n\t}\r\n\r\n\t// Переключение описания видео\r\n\tfunction initVideoDescriptionToggle() {\r\n\t\t$(document).on(\"click\", SELECTORS.videoDescrMore, function () {\r\n\t\t\tconst $descrText = $(this).closest(\".playlist-video-descr\").find(SELECTORS.videoDescrText);\r\n\t\t\t$descrText.slideToggle();\r\n\t\t\t$(this).hide();\r\n\t\t});\r\n\t}\r\n\r\n\t// Запуск инициализации\r\n\tinit();\r\n});\r\n","$(document).ready(function () {\r\n\t$(\".btn\").css(\"--deg\", \"68deg\");\r\n\r\n\t$(\".btn:not([disabled])\").on(\"mouseenter\", function () {\r\n\t\tconst btn = $(this);\r\n\r\n\t\tlet degree = parseInt(btn.css(\"--deg\")) || 68; // начальное значение\r\n\t\tlet animationFrame;\r\n\r\n\t\tfunction increase() {\r\n\t\t\tif (degree < 300) {\r\n\t\t\t\tdegree += 5;\r\n\t\t\t\tbtn.css(\"--deg\", degree + \"deg\");\r\n\t\t\t\tanimationFrame = requestAnimationFrame(increase);\r\n\t\t\t} else {\r\n\t\t\t\tcancelAnimationFrame(animationFrame);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimationFrame = requestAnimationFrame(increase);\r\n\t});\r\n\r\n\t$(\".btn:not([disabled])\").on(\"mouseout\", function () {\r\n\t\tconst btn = $(this);\r\n\t\tlet degree = parseInt(btn.css(\"--deg\")) || 300; // начальное значение\r\n\t\tlet animationFrame;\r\n\r\n\t\tfunction decrease() {\r\n\t\t\tif (degree > 68) {\r\n\t\t\t\tdegree -= 5;\r\n\t\t\t\tbtn.css(\"--deg\", degree + \"deg\");\r\n\t\t\t\tanimationFrame = requestAnimationFrame(decrease);\r\n\t\t\t} else {\r\n\t\t\t\tcancelAnimationFrame(animationFrame);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimationFrame = requestAnimationFrame(decrease);\r\n\t});\r\n});\r\n","$(document).ready(function () {\r\n\t// Функция для склонения слов\r\n\tfunction declensionNum(num, words) {\r\n\t\treturn words[num % 100 > 4 && num % 100 < 20 ? 2 : [2, 0, 1, 1, 1, 2][num % 10 < 5 ? num % 10 : 5]];\r\n\t}\r\n\r\n\t// Получаем дату из data-атрибута\r\n\tvar endDate = $(\"#counter\").data(\"date\");\r\n\r\n\tif ($(\"#counter\").length > 0) {\r\n\t\t// Разбиваем дату на части (день, месяц, год)\r\n\t\tvar dateParts = endDate.split(\".\");\r\n\t\tvar targetDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);\r\n\r\n\t\t// Массивы для склонения\r\n\t\tvar daysWords = [\"день\", \"дня\", \"дней\"];\r\n\t\tvar hoursWords = [\"час\", \"часа\", \"часов\"];\r\n\t\tvar minsWords = [\"минута\", \"минуты\", \"минут\"];\r\n\t\tvar secsWords = [\"секунда\", \"секунды\", \"секунд\"];\r\n\r\n\t\t// Обновляем счетчик каждую секунду\r\n\t\tvar timer = setInterval(function () {\r\n\t\t\tvar now = new Date();\r\n\t\t\tvar diff = targetDate - now;\r\n\r\n\t\t\t// Если дата прошла\r\n\t\t\tif (diff <= 0) {\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\t$(\"#days\").text(\"0\").attr(\"data-text\", daysWords[2]);\r\n\t\t\t\t$(\"#hours\").text(\"0\").attr(\"data-text\", hoursWords[2]);\r\n\t\t\t\t$(\"#mins\").text(\"0\").attr(\"data-text\", minsWords[2]);\r\n\t\t\t\t$(\"#secs\").text(\"0\").attr(\"data-text\", secsWords[2]);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Вычисляем дни, часы, минуты, секунды\r\n\t\t\tvar days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n\t\t\tvar hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n\t\t\tvar minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n\t\t\tvar seconds = Math.floor((diff % (1000 * 60)) / 1000);\r\n\r\n\t\t\t// Обновляем значения\r\n\t\t\t$(\"#days\").text(days).attr(\"data-text\", declensionNum(days, daysWords));\r\n\t\t\t$(\"#hours\").text(hours).attr(\"data-text\", declensionNum(hours, hoursWords));\r\n\t\t\t$(\"#mins\").text(minutes).attr(\"data-text\", declensionNum(minutes, minsWords));\r\n\t\t\t$(\"#secs\").text(seconds).attr(\"data-text\", declensionNum(seconds, secsWords));\r\n\t\t}, 1000);\r\n\t}\r\n});\r\n","$(document).ready(function () {\r\n\t// Функция для получения CSRF-токена из куки\r\n\tfunction getCookie(name) {\r\n\t\tlet cookieValue = null;\r\n\t\tif (document.cookie && document.cookie !== \"\") {\r\n\t\t\tconst cookies = document.cookie.split(\";\");\r\n\t\t\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\t\t\tconst cookie = cookies[i].trim();\r\n\t\t\t\tif (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n\t\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cookieValue;\r\n\t}\r\n\r\n\t// Установка CSRF-токена для AJAX-запросов\r\n\tconst csrftoken = getCookie(\"csrftoken\");\r\n\r\n\tif ($('[name=\"acceptance\"]').is(\":checked\")) {\r\n\t\t$('[name=\"acceptance\"]').parents(\"form\").find(\"button\").attr(\"disabled\", false);\r\n\t} else {\r\n\t\t$('[name=\"acceptance\"]').parents(\"form\").find(\"button\").attr(\"disabled\", true);\r\n\t}\r\n\t$('[name=\"acceptance\"]').on(\"change\", function () {\r\n\t\tif ($(this).is(\":checked\")) {\r\n\t\t\t$(this).parents(\"form\").find(\"button\").attr(\"disabled\", false);\r\n\t\t} else {\r\n\t\t\t$(this).parents(\"form\").find(\"button\").attr(\"disabled\", true);\r\n\t\t}\r\n\t});\r\n\t$('[name=\"sertificate_time\"]').on(\"change\", function () {\r\n\t\tif ($(this).is(\":checked\") && $(this).val() == \"second\") {\r\n\t\t\t$(\"#sertificate_date_field\").removeClass(\"d-none\");\r\n\t\t} else {\r\n\t\t\t$(\"#sertificate_date_field\").addClass(\"d-none\");\r\n\t\t}\r\n\t});\r\n\t$('[name=\"file_type\"], [name=\"file_type_2\"], [name=\"file_type_3\"], [name=\"file_type_4\"]').on(\"change\", function () {\r\n\t\tif ($(this).is(\":checked\")) {\r\n\t\t\tlet value = $(this).val();\r\n\t\t\tconst block = $(this)\r\n\t\t\t\t.parents(\".form__field\")\r\n\t\t\t\t.siblings('[data-id=\"' + value + '\"]');\r\n\t\t\tconst hiddenFields = $(this).parents(\".form__field\").siblings(\".hidden-field\");\r\n\r\n\t\t\thiddenFields.hide();\r\n\t\t\tblock.show();\r\n\t\t}\r\n\t});\r\n\t$(\"#file_input\").on(\"change\", function () {\r\n\t\t// Получаем список выбранных файлов\r\n\t\tconst files = $(this)[0].files;\r\n\t\tif (files.length > 0) {\r\n\t\t\t// Формируем строку с именами файлов\r\n\t\t\tconst fileNames = Array.from(files)\r\n\t\t\t\t.map((file) => file.name)\r\n\t\t\t\t.join(\", \");\r\n\t\t\t// Обновляем текст в элементе #file-title\r\n\t\t\t$(\"#file-title\").text(fileNames);\r\n\t\t} else {\r\n\t\t\t// Если файлы не выбраны, отображаем стандартный текст\r\n\t\t\t$(\"#file-title\").text(\"Прикрепить документы\");\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".form__file + input\").on(\"change\", function () {\r\n\t\t// Получаем список выбранных файлов\r\n\t\tconst files = $(this)[0].files;\r\n\t\tconst input = $(this);\r\n\r\n\t\tif (input.hasClass(\"file_excel\")) {\r\n\t\t\tif (files.length > 0) {\r\n\t\t\t\tlet file = this.files[0];\r\n\r\n\t\t\t\t$(this).prev().find(\".default\").hide();\r\n\t\t\t\t$(this).prev().find(\".upload-status .file-name\").text(file.name);\r\n\r\n\t\t\t\t$(this).prev().find(\".upload-status\").addClass(\"active\");\r\n\t\t\t\tlet fileExt = file.name.split(\".\").pop().toLowerCase();\r\n\t\t\t\tlet iconPath = \"img/icons/file-icon.svg\"; // Иконка по умолчанию\r\n\t\t\t\tlet fileIcons = {\r\n\t\t\t\t\tpdf: \"img/icons/pdf.svg\",\r\n\t\t\t\t\tdoc: \"img/icons/doc.svg\",\r\n\t\t\t\t\tdocx: \"img/icons/doc.svg\",\r\n\t\t\t\t\txls: \"img/icons/excel.svg\",\r\n\t\t\t\t\txlsx: \"img/icons/excel.svg\",\r\n\t\t\t\t\tpng: \"img/icons/image.svg\",\r\n\t\t\t\t\tjpg: \"img/icons/image.svg\",\r\n\t\t\t\t\tjpeg: \"img/icons/image.svg\",\r\n\t\t\t\t\tgif: \"img/icons/image.svg\",\r\n\t\t\t\t\tzip: \"img/icons/zip.svg\",\r\n\t\t\t\t\trar: \"img/icons/zip.svg\",\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (fileIcons[fileExt]) {\r\n\t\t\t\t\ticonPath = fileIcons[fileExt];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(this).prev().find(\".file-icon\").attr(\"src\", iconPath);\r\n\r\n\t\t\t\t// Фейковая анимация загрузки\r\n\t\t\t\tlet progress = 0;\r\n\t\t\t\tlet interval = setInterval(function () {\r\n\t\t\t\t\tprogress += 1;\r\n\t\t\t\t\tinput\r\n\t\t\t\t\t\t.prev()\r\n\t\t\t\t\t\t.find(\".progress\")\r\n\t\t\t\t\t\t.css(\"width\", progress + \"%\");\r\n\t\t\t\t\tinput\r\n\t\t\t\t\t\t.prev()\r\n\t\t\t\t\t\t.find(\".upload-percent\")\r\n\t\t\t\t\t\t.text(progress + \"%\");\r\n\r\n\t\t\t\t\tif (progress >= 100) {\r\n\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 10);\r\n\t\t\t} else {\r\n\t\t\t\t$(this).prev().find(\".default\").show();\r\n\t\t\t\t$(this).prev().find(\".upload-status\").removeClass(\"active\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (files.length > 0) {\r\n\t\t\t\t// Формируем строку с именами файлов\r\n\t\t\t\tconst fileNames = Array.from(files)\r\n\t\t\t\t\t.map((file) => file.name)\r\n\t\t\t\t\t.join(\", \");\r\n\t\t\t\t// Обновляем текст в элементе #file-title\r\n\t\t\t\t$(this).prev().find(\".default\").hide();\r\n\t\t\t\tif (files.length > 1) {\r\n\t\t\t\t\t$(this).prev().find(\".file-name\").text(`Загружено ${files.length} файла(ов)`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(this).prev().find(\".file-name\").text(fileNames);\r\n\t\t\t\t}\r\n\t\t\t\t$(this).prev().find(\".file-name\").show();\r\n\t\t\t} else {\r\n\t\t\t\t$(this).prev().find(\".file-name\").hide();\r\n\r\n\t\t\t\t$(this).prev().find(\".default\").show();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tfunction switchDownloadFields() {\r\n\t\tconst downloadFields = $('.download-field');\r\n\t\tdownloadFields.hide();\r\n\r\n\t\tlet val = $('[name=\"download_type\"]:checked').val();\r\n\t\t$('#'+ val).toggle()\r\n\t\t\r\n\t}\r\n\tswitchDownloadFields()\r\n\t$('[name=\"download_type\"]').on('change', switchDownloadFields)\r\n\r\n\t$(\".form\").each(function () {\r\n\t\t$(this).validate({\r\n\t\t\tsubmitHandler: function (form) {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tif ($(form).parents(\".popup\").is(\"#booking-popup\")) {\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\tusersurname: $(form).find('[name=\"usersurname\"]').val(),\r\n\t\t\t\t\t\tusername: $(form).find('[name=\"username\"]').val(),\r\n\t\t\t\t\t\tphone: $(form).find('[name=\"phone\"]').val(),\r\n\t\t\t\t\t\tagentstvo: $(form).find('[name=\"agentstvo\"]').val(),\r\n\t\t\t\t\t\tgrm_member: $(form).find('[name=\"grm_member\"]:checked').val(),\r\n\t\t\t\t\t\tevent: $(form).find('[name=\"event\"]').val(),\r\n\t\t\t\t\t};\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: \"/api/obuchsred-registration/\",\r\n\t\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\t\tcontentType: \"application/json\",\r\n\t\t\t\t\t\tdata: JSON.stringify(data),\r\n\r\n\t\t\t\t\t\tbeforeSend: function (xhr) {\r\n\t\t\t\t\t\t\txhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\t\tsuccessMessage();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function (xhr) {\r\n\t\t\t\t\t\t\t// Покажите ошибку\r\n\t\t\t\t\t\t\talert(\"Ошибка при отправке. Проверьте данные.\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// $.ajax({\r\n\t\t\t\t// \turl: \"submitHandler.php\", // Ссылка на серверный обработчик\r\n\t\t\t\t// \ttype: \"POST\",\r\n\t\t\t\t// \tdata: $(form).serialize(),\r\n\t\t\t\t// \tsuccess: function (response) {\r\n\t\t\t\t// \t\tsuccessMessage();\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \terror: function () {\r\n\t\t\t\t// \t\talert(\"Произошла ошибка при отправке данных.\");\r\n\t\t\t\t// \t},\r\n\t\t\t\t// });\r\n\t\t\t\treturn false; // Останавливаем стандартное поведение формы\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n\t$(document).on(\"click\", \".booking-btn\", function () {\r\n\t\tvar eventId = $(this).data(\"event-id\");\r\n\t\t$(\"#popup-event-id\").val(eventId);\r\n\t});\r\n\r\n\t// Письмо\r\n\t$(\".letter-form\").on(\"submit\", function (e) {\r\n\t\te.preventDefault();\r\n\t\t$(this).addClass(\"sent\");\r\n\t\tsetTimeout(() => {\r\n\t\t\t$(\".letter-form-back-top\").addClass(\"active\");\r\n\t\t\t$(\".letter-form-block\").hide(300);\r\n\t\t}, 1300);\r\n\t\tsetTimeout(successMessage, 1800);\r\n\t});\r\n\r\n\t// квиз\r\n\t$(\".quiz\").each(function () {\r\n\t\tlet quiz = $(this);\r\n\t\tlet form = quiz.find(\".quiz-form\");\r\n\t\tlet steps = quiz.find(\".step\");\r\n\t\tlet pagination = quiz.find(\".pagination\");\r\n\t\tlet currentStep = 0;\r\n\t\tlet totalSteps = steps.length;\r\n\r\n\t\tform.validate({\r\n\t\t\terrorElement: \"div\",\r\n\t\t\terrorClass: \"error\",\r\n\t\t});\r\n\r\n\t\tfunction showStep(index) {\r\n\t\t\tsteps.removeClass(\"active\");\r\n\t\t\t$(steps[index]).addClass(\"active\");\r\n\t\t\tpagination.text(`  ${index + 1}/${totalSteps}`);\r\n\t\t}\r\n\r\n\t\tquiz.find(\".next\").click(function () {\r\n\t\t\tif (form.valid()) {\r\n\t\t\t\tcurrentStep++;\r\n\t\t\t\tif (pagination.length > 0) {\r\n\t\t\t\t\tif (currentStep < totalSteps) {\r\n\t\t\t\t\t\tshowStep(currentStep);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tquiz.find(\".prev\").click(function () {\r\n\t\t\tcurrentStep--;\r\n\t\t\tshowStep(currentStep);\r\n\t\t});\r\n\r\n \r\n\t\tshowStep(currentStep);\r\n\t});\r\n\r\n\tfunction toggleDocs() {\r\n\t\t$('[data-for=\"Действительный член ГРМ\"], [data-for=\"Деловой клуб ГРМ\"]').addClass('d-none');\r\n\t\tif ($('[name=\"vid_chlenstva\"]:checked').val() == \"Действительный член ГРМ\") {\r\n\t\t\t$(\".quiz .doc-link\").removeClass(\"active\");\r\n\t\t\t$(\"#doc-for-grm\").addClass(\"active\");\r\n\t\t\t$('[data-for=\"Действительный член ГРМ\"]').removeClass('d-none');\r\n\t\t} else {\r\n\t\t\t$(\".quiz .doc-link\").removeClass(\"active\");\r\n\t\t\t$(\"#doc-for-club\").addClass(\"active\");\r\n\t\t\t$('[data-for=\"Деловой клуб ГРМ\"]').removeClass('d-none');\r\n\t\t}\r\n\t\tconsole.log($('[name=\"vid_chlenstva\"]:checked').val());\r\n\t}\r\n\ttoggleDocs();\r\n\t$('[name=\"vid_chlenstva\"]').on(\"change\", toggleDocs);\r\n\tfunction successMessage() {\r\n\t\t$.fancybox.close();\r\n\t\tconst customSwal = Swal.mixin({\r\n\t\t\tcustomClass: {\r\n\t\t\t\tconfirmButton: \"btn  \",\r\n\t\t\t\tcancelButton: \"btn  \",\r\n\t\t\t},\r\n\t\t\tbuttonsStyling: false,\r\n\t\t});\r\n\t\tconsole.log(customSwal);\r\n\r\n\t\tcustomSwal.fire({\r\n\t\t\ttitle: \"Спасибо!\",\r\n\t\t\ttext: \"Ваша заявка успешно отправлена!\",\r\n\t\t\ticon: \"success\",\r\n\t\t\t// timer: 3000,\r\n\t\t});\r\n\t\t$(\".btn\").css(\"--deg\", \"68deg\");\r\n\t}\r\n});\r\n","$(document).ready(function () {\r\n\t$(\".search-form-result\").hide();\r\n\t$(\".search-form-result\").html('<div class=\"search-form-result-list\"></div>');\r\n\t$(\".search-form input\").on(\"input\", function () {\r\n\t\tconst input = $(this);\r\n\t\tconst searchBtn = $(this).parents(\".search-form\").find(\".search-form__btn\");\r\n\t\tconst searchClear = $(this).parents(\".search-form\").find(\".search-form__clear\");\r\n\t\tconst searchResult = $(this).parents(\".search-form\").find(\".search-form-result\");\r\n\t\tconst searchResultList = $(this).parents(\".search-form\").find(\".search-form-result .search-form-result-list\");\r\n\t\tconst searchForm = $(this).parents(\".search-form\");\r\n\t\tlet query = $(this).val().trim();\r\n\r\n\t\tif (query.length > 2) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: searchApiUrl,\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\tlet results = filterResults(data, query);\r\n\t\t\t\t\tdisplayResults(results);\r\n\r\n\t\t\t\t\tenterHandle();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsearchBtn.show();\r\n\t\t\tsearchClear.hide();\r\n\t\t\tsearchResult.hide();\r\n\t\t\tsearchForm.removeClass(\"active\");\r\n\t\t}\r\n\r\n\t\tfunction filterResults(data, query) {\r\n\t\t\tlet regex = new RegExp(query, \"i\"); // Регулярное выражение для поиска\r\n\t\t\treturn data.filter((item) => regex.test(item.title)); // Фильтрация по заголовку\r\n\t\t}\r\n\r\n\t\tfunction displayResults(results) {\r\n\t\t\tsearchBtn.hide();\r\n\t\t\tsearchClear.show();\r\n\t\t\tsearchResult.show();\r\n\t\t\tsearchForm.addClass(\"active\");\r\n\t\t\tsearchResultList.html(\"\").show();\r\n\r\n\t\t\tif (results.length === 0) {\r\n\t\t\t\tsearchResultList.html(\"\").append(\"<p class=' mx-5 px-5' >Ничего не найдено</p>\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresults.forEach((item) => {\r\n\t\t\t\tlet resultItem = `\r\n\t\t\t\t\t\t\t<a href=\"${item.url}\" class=\"search-form-result-item\">\r\n\t\t\t\t\t\t\t<img src=\"/static/img/icons/search.svg\" alt=\"\" />\r\n\t\t\t\t\t\t\t<span>${item.title}</span>\r\n\t\t\t\t\t\t</a>\r\n                 \r\n            `;\r\n\t\t\t\tsearchResultList.append(resultItem);\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction enterHandle() {\r\n\t\t\t$(document).off(\"keypress.enterHandler\");\r\n\r\n\t\t\t$(document).on(\"keypress.enterHandler\", function (event) {\r\n\t\t\t\tif (event.which === 13) {\r\n\t\t\t\t\tconst firstLink = $(\".search-form-result-item\").eq(0);\r\n\t\t\t\t\tif (firstLink.length) {\r\n\t\t\t\t\t\tconst url = firstLink.attr(\"href\");\r\n\t\t\t\t\t\tif (url) {\r\n\t\t\t\t\t\t\tevent.preventDefault(); // Отменяем стандартное поведение\r\n\t\t\t\t\t\t\twindow.location.href = url; // Принудительный переход\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tenterHandle();\r\n\t});\r\n\r\n\t$(\".search-form__clear\").on(\"click\", function () {\r\n\t\tconst searchResult = $(this).parents(\".search-form\").find(\".search-form-result\");\r\n\t\tconst searchBtn = $(this).parents(\".search-form\").find(\".search-form__btn\");\r\n\r\n\t\tconst searchForm = $(this).parents(\".search-form\");\r\n\t\t$(this).hide();\r\n\t\t$(this).parents(\".search-form\").find(\"input\").val(\"\");\r\n\r\n\t\tsearchResult.hide();\r\n\t\tsearchBtn.show();\r\n\t\tsearchForm.removeClass(\"active\");\r\n\t});\r\n});\r\n","$(document).ready(function () {\r\n\tif ($(window).width() > 992) {\r\n\t\tlet submenuheight = 0;\r\n\t\t$(\".service-hero-submenu\").each(function (index) {\r\n\t\t\tlet id = \"submenu-\" + (index + 1);\r\n\r\n\t\t\t$(this).parent().attr(\"data-id\", id);\r\n\r\n\t\t\t$(this).attr(\"id\", id);\r\n\r\n\t\t\t$(this).prev().append(`<span class=\"arrow\"><svg width=\"12\" height=\"7\" viewBox=\"0 0 12 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M10.3333 1L5.66667 5.66667L1 1\" stroke=\"white\" stroke-opacity=\"0.5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n</span>`);\r\n\t\t\t$(this).parent().addClass(\"has-submenu\");\r\n\t\t\tsubmenuheight = $(this).outerHeight() > submenuheight ? $(this).outerHeight() : submenuheight;\r\n\t\t});\r\n\t\t$(\".service-hero-nav\").css(\"--height\", $(\".service-hero-nav\").outerHeight() + \"px\");\r\n\t\t$(\".service-hero-nav\").css(\"--hover-height\", $(\".service-hero-nav\").outerHeight() + submenuheight + \"px\");\r\n\t} else {\r\n\t\t$(\".service-hero-submenu\").each(function (index) {\r\n\t\t\tlet id = \"submenu-\" + (index + 1);\r\n\r\n\t\t\t$(this).parent().attr(\"data-id\", id);\r\n\r\n\t\t\t$(this).attr(\"id\", id);\r\n\r\n\t\t\t$(\".service-hero-menu\").after($(this));\r\n\t\t\t$(this).hide();\r\n\t\t});\r\n\t\t$(\".service-hero-menu\").clone().appendTo(\".service-hero-nav\").addClass(\"service-hero-menu-bottom\").hide();\r\n\r\n\t\tfunction toggleMenu(main, clone) {\r\n\t\t\t$(main)\r\n\t\t\t\t.off(\"click\", \".service-hero-menu__item\")\r\n\t\t\t\t.on(\"click\", \".service-hero-menu__item\", function (e) {\r\n\t\t\t\t\tconst id = $(this).data(\"id\");\r\n\t\t\t\t\tconst link = $(this).find(\"a\");\r\n\t\t\t\t\tconst index = $(this).index();\r\n\t\t\t\t\tconst copyMenuLink = $(clone + \" .service-hero-menu__item\")\r\n\t\t\t\t\t\t.eq(index)\r\n\t\t\t\t\t\t.find(\"a\");\r\n\r\n\t\t\t\t\tif (id) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\tif ($(\"#\" + id).attr(\"style\") == \"display: block;\") {\r\n\t\t\t\t\t\t\t$(\".service-hero-submenu\").hide();\r\n\t\t\t\t\t\t\t$(\".service-hero-menu-bottom\").hide();\r\n\t\t\t\t\t\t\t$(link).removeClass(\"active\");\r\n\t\t\t\t\t\t\tcopyMenuLink.removeClass(\"active\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(\".service-hero-submenu\").hide();\r\n\t\t\t\t\t\t\t$(\".service-hero-menu-bottom\").show();\r\n\t\t\t\t\t\t\t$(\"#\" + id).toggle();\r\n\t\t\t\t\t\t\t$(link).toggleClass(\"active\");\r\n\t\t\t\t\t\t\tcopyMenuLink.addClass(\"active\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t\ttoggleMenu(\".service-hero-menu-top\", \".service-hero-menu-bottom\");\r\n\t\ttoggleMenu(\".service-hero-menu-bottom\", \".service-hero-menu-top\");\r\n\r\n\t\tlet isSyncingScroll = false;\r\n\r\n\t\t$(\".service-hero-menu-top, .service-hero-menu-bottom\").on(\"scroll\", function () {\r\n\t\t\tif (!isSyncingScroll) {\r\n\t\t\t\tisSyncingScroll = true;\r\n\t\t\t\tlet scrollLeft = $(this).scrollLeft();\r\n\t\t\t\t$(\".service-hero-menu-top, .service-hero-menu-bottom\").not(this).scrollLeft(scrollLeft);\r\n\t\t\t\tisSyncingScroll = false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n","$(document).ready(function () {\r\n\tconst arrowRight = `<button class=\"next\"><img src=\"/static/img/icons/arrow-right.svg\" data-src></button>`;\r\n\tconst arrowLeft = `<button class=\"prev\"><img src=\"/static/img/icons/arrow-left.svg\" data-src></button>`;\r\n\r\n\t$(\".stories-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: true,\r\n\t\tspeed: 300,\r\n\r\n\t\tarrows: true,\r\n\t\tprevArrow: arrowLeft,\r\n\t\tnextArrow: arrowRight,\r\n\t\tslidesToShow: 4,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 992,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tinfinite: true,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t\tspeed: 1000,\r\n\t\t\t\t\tautoplaySpeed: 4000,\r\n\t\t\t\t\tautoplay: true,\r\n\t\t\t\t\tarrows: false,\r\n\t\t\t\t\tcssEase: \"linear\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".services-slider\").slick({\r\n\t\tdots: false,\r\n\t\tinfinite: true,\r\n\t\tspeed: 2000,\r\n\t\tautoplaySpeed: 10,\r\n\t\tautoplay: true,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tcenterMode: true,\r\n\t\tvariableWidth: true,\r\n\t\tcssEase: \"linear\",\r\n\t});\r\n\t$(\".about-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tfade: false,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t});\r\n\t$(\".news-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 3,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 9999,\r\n\t\t\t\tsettings: \"unslick\",\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 992,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 576,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".vakancy-cards-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 3,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 9999,\r\n\t\t\t\tsettings: \"unslick\",\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 576,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".comitet-members-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 2,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 768,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".member-cards-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 2,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 768,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".tarif-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 2,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 768,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".service-hero-sliders\").removeClass(\"d-none\");\r\n\t$(\".service-hero-slider\").each(function (index) {\r\n\t\tlet $args = {\r\n\t\t\tdots: false,\r\n\t\t\tinfinite: true,\r\n\t\t\tspeed: 5000,\r\n\t\t\tautoplaySpeed: 10,\r\n\t\t\tautoplay: true,\r\n\t\t\tarrows: false,\r\n\t\t\tslidesToShow: 1,\r\n\t\t\tslidesToScroll: 1,\r\n\t\t\tcenterMode: true,\r\n\t\t\tvariableWidth: true,\r\n\t\t\tcssEase: \"linear\",\r\n\t\t};\r\n\t\tif (index % 2 !== 0) {\r\n\t\t\t$args[\"rtl\"] = true;\r\n\t\t\t$(this).attr(\"dir\", \"rtl\");\r\n\t\t}\r\n\r\n\t\t$(this).slick($args);\r\n\t});\r\n\r\n\t$(\".service-hero-partners-slider\").slick({\r\n\t\tdots: false,\r\n\t\tinfinite: true,\r\n\t\tspeed: 5000,\r\n\t\tautoplaySpeed: 10,\r\n\t\tautoplay: true,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tcenterMode: true,\r\n\t\tvariableWidth: true,\r\n\t\tcssEase: \"linear\",\r\n\t});\r\n\r\n\t$(\".programs-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 3,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 768,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".reviews-text-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: true,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 2,\r\n\t\tslidesToScroll: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 768,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n\t$(\".reviews-video-slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: true,\r\n\t\tspeed: 300,\r\n\t\tarrows: false,\r\n\t\tslidesToShow: 4,\r\n\t\tslidesToScroll: 1,\r\n\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 992,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 768,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 576,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\tdots: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t});\r\n});\r\n","$(document).ready(function () {\r\n\t$(\".stories-slider__item\").on(\"click\", function (e) {\r\n\t\te.preventDefault();\r\n\t\tlet json = $(this).data(\"json\");\r\n\t\tlet stories = json.stories; // Получаем массив stories из JSON\r\n\r\n\t\tlet data = `<div class=\"story-item-slider\" id=\"story-item-slider\">`;\r\n\r\n\t\t// Обрабатываем каждый элемент в stories\r\n\t\tstories.forEach(function (story) {\r\n\t\t\tif (story.url.match(/\\.(mp4|mov|avi|webm)$/i)) {\r\n\t\t\t\t// Если это видео\r\n\t\t\t\tdata += `\r\n                <div class=\"story-item-slider__item\">\r\n                    <video width=\"100%\" controls>\r\n                        <source src=\"${story.url}\" type=\"video/mp4\" />\r\n                    </video>\r\n                </div>`;\r\n\t\t\t} else {\r\n\t\t\t\t// Если это изображение\r\n\t\t\t\tdata += `\r\n                <div class=\"story-item-slider__item\" style=\"background-image: url('${story.url}')\">\r\n                    <img src=\"${story.url}\" alt=\"\" />\r\n                </div>`;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdata += `</div>`;\r\n\t\tvar storyId = $(this).data(\"id\"); // Получаем ID истории\r\n\r\n\t\tif ($(\"#story-item-slider\").hasClass(\"slick-initialized\")) {\r\n\t\t\t$(\"#story-item-slider\").slick(\"unslick\");\r\n\t\t}\r\n\r\n\t\t$(\"#story-container\").html(data); // Загружаем HTML\r\n\r\n\t\t$.fancybox.close(); // Закрываем прошлый Fancybox\r\n\t\tconst arrowRight = `<button class=\"next\"><img src=\"/static/img/icons/arrow-right.svg\" data-src></button>`;\r\n\t\tconst arrowLeft = `<button class=\"prev\"><img src=\"/static/img/icons/arrow-left.svg\" data-src></button>`;\r\n\t\t$.fancybox.open({\r\n\t\t\tsrc: \"#story-popup\",\r\n\t\t\ttype: \"inline\",\r\n\t\t\ttouch: false,\r\n\t\t\tbeforeShow: function () {\r\n\t\t\t\t// Убираем autoplay при переключении на видео\r\n\t\t\t\t$(\"#story-item-slider\").on(\"init\", function () {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t$(\"#story-item-slider video\").each(function () {\r\n\t\t\t\t\t\t\tthis.pause(); // Останавливаем все видео\r\n\t\t\t\t\t\t\tthis.currentTime = 0; // Сбрасываем на начало\r\n\t\t\t\t\t\t\tconsole.log(\"Видео остановлено:\", this);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 500); // Даем время слайдеру отрендериться\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#story-item-slider\").slick({\r\n\t\t\t\t\tinfinite: false, // Не зацикливаем\r\n\t\t\t\t\tarrows: true, // Отключаем стрелки\r\n\t\t\t\t\tprevArrow: arrowLeft,\r\n\t\t\t\t\tnextArrow: arrowRight,\r\n\t\t\t\t\tdots: true, // Показываем точки\r\n\t\t\t\t\tautoplay: true, // Включаем автоматическое перелистывание\r\n\t\t\t\t\tautoplaySpeed: 5000, // Переключение каждые 5 секунд\r\n\t\t\t\t\tfade: true, // Плавное появление слайдов\r\n\t\t\t\t\tcssEase: \"linear\", // Линейное изменение\r\n\t\t\t\t\tspeed: 600, // Скорость анимации\r\n\t\t\t\t\tpauseOnHover: false, // Не останавливать при наведении\r\n\t\t\t\t\tpauseOnFocus: false, // Не останавливать при фокусе\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#story-item-slider\").on(\"beforeChange\", function (event, slick, currentSlide, nextSlide) {\r\n\t\t\t\t\tconsole.log(\"beforeChange\", currentSlide);\r\n\r\n\t\t\t\t\tvar currentVideo = $(slick.$slides[currentSlide]).find(\"video\");\r\n\t\t\t\t\tvar nextVideo = $(slick.$slides[nextSlide]).find(\"video\");\r\n\r\n\t\t\t\t\t// Останавливаем текущее видео перед переключением\r\n\t\t\t\t\tif (currentVideo.length) {\r\n\t\t\t\t\t\tcurrentVideo[0].pause();\r\n\t\t\t\t\t\tcurrentVideo[0].currentTime = 0; // Сбрасываем к началу\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Если следующий слайд содержит видео — отключаем autoplay\r\n\t\t\t\t\tif (nextVideo.length) {\r\n\t\t\t\t\t\tslick.slickSetOption(\"autoplay\", false, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// После переключения проверяем, есть ли видео\r\n\t\t\t\t$(\"#story-item-slider\").on(\"afterChange\", function (event, slick, currentSlide) {\r\n\t\t\t\t\tvar currentVideo = $(slick.$slides[currentSlide]).find(\"video\");\r\n\r\n\t\t\t\t\tif (currentVideo.length) {\r\n\t\t\t\t\t\tcurrentVideo[0].play();\r\n\t\t\t\t\t\tslick.slickSetOption(\"autoplay\", false, true); // Останавливаем autoplay пока играет видео\r\n\r\n\t\t\t\t\t\t// Ждём окончания видео\r\n\t\t\t\t\t\tcurrentVideo[0].onended = function () {\r\n\t\t\t\t\t\t\tslick.slickSetOption(\"autoplay\", true, true); // Включаем autoplay снова\r\n\t\t\t\t\t\t\tslick.slickNext(); // Переключаемся на следующий слайд\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tslick.slickSetOption(\"autoplay\", true, true); // Включаем autoplay для изображений\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tbeforeClose: function () {\r\n\t\t\t\t$(\"#story-item-slider\").slick(\"unslick\"); // Уничтожаем слайдер перед закрытием\r\n\t\t\t},\r\n\t\t});\r\n\t});\r\n});\r\n","$(document).ready(function () {\r\n\t// Найти все <img> элементы с атрибутом data-svg\r\n\t$(\"img[data-svg]\").each(function () {\r\n\t\tconst $img = $(this); // Ссылка на текущий элемент\r\n\t\tconst imgSrc = $img.attr(\"src\"); // Получить путь к SVG\r\n\r\n\t\tif (imgSrc && imgSrc.endsWith(\".svg\")) {\r\n\t\t\t// Загрузить SVG через AJAX\r\n\t\t\t$.get(imgSrc, function (svgData) {\r\n\t\t\t\tconst $svg = $(svgData).find(\"svg\"); // Извлечь <svg> из ответа\r\n\r\n\t\t\t\tif ($svg.length) {\r\n\t\t\t\t\t// Если у SVG нет атрибута viewBox, создать его из width и height\r\n\t\t\t\t\tif (!$svg.attr(\"viewBox\")) {\r\n\t\t\t\t\t\tconst width = parseFloat($svg.attr(\"width\")) || 0;\r\n\t\t\t\t\t\tconst height = parseFloat($svg.attr(\"height\")) || 0;\r\n\r\n\t\t\t\t\t\tif (width > 0 && height > 0) {\r\n\t\t\t\t\t\t\t$svg.attr(\"viewBox\", `0 0 ${width} ${height}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Скопировать атрибуты <img> в <svg>, кроме src и data-svg\r\n\t\t\t\t\t$.each($img[0].attributes, function () {\r\n\t\t\t\t\t\tif (this.name !== \"src\" && this.name !== \"data-svg\") {\r\n\t\t\t\t\t\t\t$svg.attr(this.name, this.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Заменить <img> на <svg>\r\n\t\t\t\t\t$img.replaceWith($svg);\r\n\t\t\t\t}\r\n\t\t\t}).fail(function () {\r\n\t\t\t\tconsole.error(`Ошибка загрузки SVG: ${imgSrc}`);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n","$(document).ready(function () {\r\n\tfunction tabs(navItems, contentItems, hasBottomMenu = false, navBottomItems) {\r\n\t\t$(navItems).eq(0).addClass(\"active\");\r\n\t\t$(contentItems).eq(0).addClass(\"active\");\r\n\r\n\t\t$(navItems).on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet index = $(this).index();\r\n\t\t\t$(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n\t\t\tif (hasBottomMenu) {\r\n\t\t\t\t$(navBottomItems).eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\t\t\t}\r\n\r\n\t\t\t$(contentItems).eq(index).addClass(\"active\").siblings().removeClass(\"active\");\r\n\t\t});\r\n\r\n\t\tif (hasBottomMenu) {\r\n\t\t\t$(navBottomItems).eq(0).addClass(\"active\");\r\n\r\n\t\t\t$(navBottomItems).on(\"click\", function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tlet index = $(this).index();\r\n\t\t\t\t$(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n\t\t\t\t$(navItems).eq(index).trigger(\"click\");\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\ttabs(\".news-tabs-nav__item\", \".news-tabs-content-list\");\r\n\ttabs(\".members-block .members-nav-top .members-nav__item\", \".members-block .members-content\");\r\n\ttabs(\".reviews-nav__item\", \".reviews-block\");\r\n\r\n\ttabs(\".playlist-video-nav__item\", \".playlist-video\");\r\n\ttabs(\".gallery-tab-nav .gallery-nav__item\", \".gallery-tab-item\");\r\n});\r\n"]}